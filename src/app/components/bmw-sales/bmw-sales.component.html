<div class="bmw-sales-container">
    <div class="header">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/BMW.svg" alt="BMW Logo" class="bmw-logo" />
        <h2>BMW Sales Dashboard</h2>
    </div>

    <!-- ✅ FORM SECTION -->
    <form (ngSubmit)="addOrUpdateSale()" class="sales-form">
        <div class="form-row">
            <label>Model:</label>
            <input type="text" [(ngModel)]="sale.model" name="model" required />
        </div>
        <div class="form-row">
            <label>Year:</label>
            <input type="number" [(ngModel)]="sale.year" name="year" required />
        </div>
        <div class="form-row">
            <label>Price:</label>
            <input type="number" [(ngModel)]="sale.price" name="price" required />
        </div>
        <div class="form-row">
            <label>Units Sold:</label>
            <input type="number" [(ngModel)]="sale.unitsSold" name="unitsSold" required />
        </div>

        <div class="btn-group">
            <button type="submit" class="btn-primary">{{ editing ? 'Update' : 'Add' }}</button>
            <button type="button" class="btn-secondary" (click)="resetForm()">Clear</button>
        </div>
    </form>

    <hr />

    <!-- ✅ TABLE SECTION -->
    <h3>Sales Records</h3>
    <table class="sales-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Model</th>
                <th>Year</th>
                <th>Price (₹)</th>
                <th>Units Sold</th>
                <th>Total Revenue (₹)</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of sales">
                <td>{{ item.id }}</td>
                <td>{{ item.model }}</td>
                <td>{{ item.year }}</td>
                <td>{{ item.price | number }}</td>
                <td>{{ item.unitsSold }}</td>
                <td>{{ item.price * item.unitsSold | number }}</td>
                <td>
                    <button class="btn-edit" (click)="editSale(item)">Edit</button>
                    <button class="btn-delete" (click)="deleteSale(item.id!)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

    <hr />

    <!-- ✅ REUSABLE CHART COMPONENT -->
    <app-bmw-sales-charts [salesData]="sales"></app-bmw-sales-charts>

    <!-- <app-bmw-sales-table></app-bmw-sales-table>
    <app-bmw-sales-charts></app-bmw-sales-charts> -->

</div>